# Работа с базой фильмов [themoviedb.org](https://www.themoviedb.org/ "themoviedb.org")

## Файл find_similar.py

Пользователь вводит название фильма, программа находит 9 похожих фильмов.

### get_rating

Присваивает фильму рейтинг для поиска похожих.
Если фильмы из одной коллекции рейтинг +1000. При совпадении языка +300, бюджета +100, жанра + 500.
Рейтинг сортируется по убыванию. Возвращает первые 9 фильмов с наибольшим рейтингом.

## Файл make_own_db.py

Файл создает локальную базу данных на основе сайта [themoviedb.org](https://www.themoviedb.org/ "themoviedb.org").

Запрашивает api ключ(через `tmdb_helpers.get_user_api_key`), если нет ошибки `401 Unauthorized`, то закачивает информацию о `films_amount = 1000` фильмах. Данные сохраняются в JSON-файл `MyFilmDB.json`

### load_films

Добавляет данные о фильме в список. Если данные о фильме отсутствуют, пропускает. После каждой попытки выводит % завершенной работы. 
Использует `tmdb_helpers.make_tmdb_api_request` для обращения к API и `tmdb_helpers.load_json_data_from_url` для получения json с данными.
Возвращает готовый список с данными о фильмах.

## Файл search_in_db.py

Файл осуществляет поиск введенного названия (части названия) фильма в закаченной базе.
Запрашивает у пользователя путь к базе данных (JSON-файл). Открывает файл базы с помощью `own_db_helpers.load_data`. Запрашивает у пользователя название фильма(части названия). 

### search_for_film

Сравнивает введенное пользователем название (часть) с названием каждого фильма. Подходящие добавляет в список.
Возвращает список фильмов название которых содержит введенное пользователем.

## Файл hello_api_TMDB.py

Тестовый файл для проверки работы api. Возвращает бюджет фильма с `id=215`.